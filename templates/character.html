<!-- 
    Under that: Relevant character stats:
        Average attacks per round, trained attacks
    On the left, an image of the character. Maybe a canvas of the character in animation for 
        part being highlighted for training.
    It will be a tab sort of thing, that displays info about the part being trained.
        It will show how much it has been trained already.
        It will also display the cost of training and a click to train button.
        No confirmation or anything. Just dumping it to the database.
    At the bottom, the ability to write a character biography
-->
{% extends "base.html" %}
{% block content %}
    <!-- If the user has no characters we can use "featurediscovery" to highlight where they should build their character-->
    <h3 class="center-align light-blue-text text-darken-4">
    </h3>
    <div class="row chSelect">
        {% for character in characters %}
            <div class="col m3 center-align ch-show">
                <div class="card ch-card">
                    <div class="card-image">
                        <img src="{{ url_for('static', filename = character.icon) }}" alt="">
                        <span class="card-title"> {{ character.name|capitalize }} </span>
                    </div>
                </div>
            </div>
        {% endfor %}
        <div class="col m3 center-align ch-show">
            <div class="card blue-grey darken-1 ch-card">
                <div>
                    <a class="modal-trigger" href="#modal1"><i class="fas fa-plus-circle new-char"></i></a>
                    <p>Create New</p>
                    <div id="modal1" class="modal">
                        <form class="col s12" method="POST">    
                            <p>
                                <label>
                                    <input class="with-gap" name="class" type="radio" checked value="inward_fist"/>
                                    <span>Inward Fist</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input class="with-gap" name="class" type="radio" disabled="disabled" value="outward_fist"  />
                                    <span>Outward Fist</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input class="with-gap" name="class" type="radio" disabled="disabled" value="sorcerer"   />
                                    <span>Sorcerer</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input class="with-gap" name="class" type="radio" disabled="disabled" value="shaman" />
                                    <span>Chi-Xin Shaman</span>
                                </label>
                            </p>
                            <div class="row">
                                <div class="input-field col s12">
                                    <input placeholder="Character name" id="name" name="name" type="text" class="validate">
                                    <label for="name">Character Name</label>
                                </div>
                            </div>  
                                <button class="btn waves-effect waves-light" type="submit" name="action">Create Character
                                    <i class="material-icons right"></i>
                                </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col s12 m6">
            <h3>I'm gonna put like a cool canvas here</h3>
        </div>
        <div class="col s12 m6">
            <div class="card blue-grey darken-1">
                <h3 class="center-align">Body Training</h3>
                <ul class="pagination">
                    <li class="active" id="train-card-1"><a href="#!" onclick="moveActive(event)">Torso</a></li>
                    <li class="waves-effect" id="train-card-2"><a href="#!" onclick="moveActive(event)">Arms</a></li>
                    <li class="waves-effect" id="train-card-3"><a href="#!" onclick="moveActive(event)">Hands</a></li>
                    <li class="waves-effect" id="train-card-4"><a href="#!" onclick="moveActive(event)">Legs</a></li>
                </ul>
                <div class="row torso">
                    <h3>Torso Training</h3>
                    <p>The inward fist's core can be rigorously trained and is key to withstanding attacks.</p>
                    <!-- Cost: 1500 * isquare(current value + 1)-->
                </div>
                <div class="row hands hidden">
                    <h3>Hands Training</h3>
                    <p>The Inward Fist can train their hands to harden them, increasing the damage they can inflict.</p>
                    <!-- Cost: 1500 * isquare(current value + 1)-->
                </div>
                <div class="row legs hidden">
                    <h3>Legs Training</h3>
                    <p>The inward fist's legs and feet can be trained for speed and power, increasing the power of their kicks.</p>
                    <!-- Cost: 1500 * isquare(current value + 1)-->
                </div>
                <div class="row arms hidden">
                    <h3>Arms Training</h3>
                    <p>The inward fist's arms can be trained for speed and power, allowing them to block attacks with increased alacrity.</p>
                    <!-- Cost: 1500 * isquare(current value + 1)-->
                </div>
                
                <div class="card-action">
                    <a href="#">Current level</a>
                    <a href="#">Train</a>
                </div>
            </div>
        </div>

        <div class="col s12 m6">
            <div class="card blue-grey darken-1">
                <h3 class="center-align">Disciplines</h3>
                <ul class="pagination">
                    <li class="active" id="train-card-1"><a href="#!" onclick="moveActive(event)">Truesight</a></li>
                    <li class="waves-effect" id="train-card-2"><a href="#!" onclick="moveActive(event)">Levitation</a></li>
                    <li class="waves-effect" id="train-card-3"><a href="#!" onclick="moveActive(event)">Roundhouse</a></li>
                    <li class="waves-effect" id="train-card-4"><a href="#!" onclick="moveActive(event)">Inner-Fire</a></li>
                    <li class="waves-effect" id="train-card-4"><a href="#!" onclick="moveActive(event)">Pheonix-Fire</a></li>
                    <li class="waves-effect" id="train-card-4"><a href="#!" onclick="moveActive(event)">Dim-Mak</a></li>
                </ul>
                <div class="row truesight">
                    <h3>Truesight</h3>
                    <p>By training their senses and awareness of the energies of chakra, the inward fist can detect things not seen by the physical eye alone.</p>
                    <!-- Cost: 1500 * isquare(current value + 1)-->
                </div>
                <div class="row levitation hidden">
                    <h3>Levitation</h3>
                    <p>Through focus, determination and sheer inner will, the inward fist can lift themselves from the shackles of the earth.</p>
                    <!-- Cost: 1500 * isquare(current value + 1)-->
                </div>
                <div class="row roundhouse hidden">
                    <h3>Roundhouse</h3>
                    <p>A simple but effective attack that can hit multiple enemies.</p>
                    <!-- Cost: 1500 * isquare(current value + 1)-->
                </div>
                <div class="row inner-fire hidden">
                    <h3>Inner Fire</h3>
                    <p>By turning their focus inward and allowing their ki to flow through their body, the inward fist can burn away impurities in the body.</p>
                    <!-- Cost: 1500 * isquare(current value + 1)-->
                </div>
                <div class="row pheonix-fire hidden">
                    <h3>Pheonix Fire</h3>
                    <p>The inward fist can train themselves to redirect their flow of ki, empowering their attacks at the cost of their speed.</p>
                    <!-- Cost: 1500 * isquare(current value + 1)-->
                </div>
                <div class="row dim-mak hidden">
                    <h3>Dim-Mak</h3>
                    <p>Using their knowledge of Ki in all things, the inward fist can use their own energy to throw off the alignment of energy in others, essentially poisoning their energy.</p>
                    <!-- Cost: 1500 * isquare(current value + 1)-->
                </div>
                
                <div class="card-action">
                    <a href="#">Cost</a>
                    <a href="#">Train this Discipline</a>
                </div>
            </div>
        </div>
        <div class="col s12 m6">
            <h3>I'm gonna put like a cool canvas here</h3>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var elems = document.querySelectorAll('.modal');
            var instances = M.Modal.init(elems);
        });

        function moveActive() {
            parent = event.target.parentNode.parentNode.firstElementChild;
            while (parent){
                if (parent.className == "active") {
                    parent.className = "waves-effect"
                    let childText = parent.firstElementChild.innerHTML.toLowerCase()
                    let hideIt = document.getElementsByClassName(childText)
                    hideIt[0].style.display = "none"
                } else {
                    parent = parent.nextElementSibling
                }
            }
            
            if (event.target.parentNode.className !== "active") {
                event.target.parentNode.className = "active"
                let childText = event.target.innerHTML.toLowerCase() 
                let showIt = document.getElementsByClassName(childText)
                console.log(showIt[0])
                showIt[0].style.display = "block"
                console.log(showIt[0])
            }
        }
    </script>
{% endblock %}